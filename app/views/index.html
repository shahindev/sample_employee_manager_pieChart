<!DOCTYPE html>
<html lang="en-US">
<body>

<!-- <h1>PieChart</h1>

<div id="piechart"></div> -->
<div id="demo"><%= datas  %></div>
<div id="demo12"><%= skill  %></div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.js"></script>
<script type="text/javascript">
// Load google charts
// var dataEmploye = document.getElementById("demo").textContent.trim();
// var dataSkill = document.getElementById("demo12").textContent.trim();
// var dataStringify = JSON.stringify(dataEmploye);
// var skillStringify = JSON.stringify(dataSkill);
// console.log(dataStringify,'dataStringify');
// var dataParse = JSON.parse(dataStringify);
// var skillParse = JSON.parse(skillStringify);
// console.log(dataParse);
// console.log(skillStringify);
// // for (var i = 0; i < dataParse.length; i++) {
   
// //     console.log(dataParse);
// // }
// google.charts.load('current', {'packages':['corechart']});
// google.charts.setOnLoadCallback(drawChart);

// // Draw the chart and set the chart values
// function drawChart() {
//   var data = google.visualization.arrayToDataTable([
//   ['Task', 'per Day'],
//   ['Work', 60],
//   ['Eat', 2],
//   ['TV', 4],
//   ['Gym', 2],
//   ['Sleep', 8]
// ]);

//   // Optional; add a title and set the width and height of the chart
//   var options = {'title':'My Average Day', 'width':550, 'height':400};

//   // Display the chart inside the <div> element with id="piechart"
//   var chart = new google.visualization.PieChart(document.getElementById('piechart'));
//   chart.draw(data, options);
// }

jQuery(document).ready(function() {
  var data = $("#demo").html();
  var skill = $("#demo12").html();
  console.log(data);

console.log(skill,'dataStringify');


var chartDiv = $("#barChart");
var myChart = new Chart(chartDiv, {
    type: 'pie',
    data: {
        labels: data.split(","),
        datasets: [
        {
            data: skill,
            backgroundColor: [
               "#FF6384",
            "#4BC0C0",
            "#FFCE56",
            "#E7E9ED",
            "#36A2EB",
            "#36A4EB",
            "#56A3EB",
            "#66A7EB",
            ]
        }]
    },
    options: {
        title: {
            display: true,
            text: 'Pie Chart'
        },
		responsive: true,
maintainAspectRatio: false,
    }
});
    });
</script>
<!-- <p><%= datas %></p> -->


<div class="container">
    <h2 class="text-center">Employee Skill  Percentage PIE chart</h2>
    <canvas id="barChart" width="400" height="400"></canvas>
  </div>
</body>
</html>
